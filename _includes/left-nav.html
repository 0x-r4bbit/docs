{% raw %}
<polymer-element name="docs-menu">
<template>
  <polymer-ui-menu id="menu" selectedItem="{{item}}">
    <polymer-ui-submenu-item label="Getting started" id="gettingstartedmenu">
      <polymer-ui-menu-item><a href="/getting-the-code.html">Get the code</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/getting-started.html">Getting started</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/runtime-config.html">Runtime configuration</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/articles/">Articles</a></li>
    </polymer-ui-submenu-item>
    <polymer-ui-submenu-item label="Elements" class="elements icon">
      <polymer-ui-menu-item><a href="/docs/elements/">Polymer</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/docs/elements/other.html">Other</a></polymer-ui-menu-item>
    </polymer-ui-submenu-item>
    <polymer-ui-submenu-item label="Core features" class="core icon">
      <polymer-ui-menu-item><a href="/polymer.html">polymer.js</a></polymer-ui-menu-item>
      <polymer-ui-submenu-item label="Data-binding"></i>
        <polymer-ui-menu-item><a href="/docs/polymer/databinding.html">Introduction</a></polymer-ui-menu-item>
        <polymer-ui-menu-item><a href="/docs/polymer/expressions.html">Expressions</a></polymer-ui-menu-item>
      </polymer-ui-submenu-item>
    </polymer-ui-submenu-item>
    <polymer-ui-submenu-item label="Platform" class="foundation icon">
      <polymer-ui-menu-item><a href="/platform/custom-elements.html">Custom Elements</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/platform/shadow-dom.html">Shadow DOM</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/platform/html-imports.html">HTML Imports</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/platform/pointer-events.html">Pointer Events</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/platform/web-animations.html">Web Animations</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/platform/template.html">Template Binding</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/platform/node_bind.html">Node.bind()</a></polymer-ui-menu-item>
    </polymer-ui-submenu-item>
    <polymer-ui-submenu-item label="More information">
      <polymer-ui-menu-item><a href="/tooling-strategy.html">Tools &amp; testing</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/compatibility.html">Browser compatibility</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/changelog.html">Releases</a></polymer-ui-menu-item>
      <polymer-ui-menu-item><a href="/faq.html">FAQ</a></polymer-ui-menu-item>
    </polymer-ui-submenu-item>
    <polymer-ui-nav-arrow target="{{item}}" color="#ccc"></polymer-ui-nav-arrow>
  </polymer-ui-menu>
</template>
<script>
  Polymer('docs-menu', {
    applyAuthorStyles: true,
    created: function() {
      // if (location.pathname.match(/^\/docs\/elements\//)) {
      //   this.$.menu.selected = 1;
      // } else if (location.pathname.match(/\/polymer/)) {
      //   this.$.menu.selected = 2;
      // } else if (location.pathname.match(/^\/platform\//)) {
      //   this.$.menu.selected = 3;
      // } else {
      //   this.$.menu.selected = 0;
      //   //this.$.gettingstartedmenu.active = true;
      // }
      var link = this.shadowRoot.querySelector('a[href="' + location.pathname + '"]');
      if (link) {
        var item = link.parentElement;
        var submenu = item.parentElement;
        //var i = Array.prototype.indexOf.call(submenu.children, item);
        var i = Array.prototype.indexOf.call(this.$.menu.children, submenu);
        //submenu.active = true;
console.log(item, submenu, i)
        //submenu.selected = i;
        this.$.menu.selected = i;
      }
    }
  });
</script>
</polymer-element>
{% endraw %}

<docs-menu class="span3"></docs-menu>
